---
timezone: UTC+8
---

# Michelle

**GitHub ID:** xinyuuum2

**Telegram:** @michelleeee98

## Self-introduction

å¾ˆé«˜å…´çœ‹åˆ°è¿™ä¸ªè¯¾ç¨‹ï¼ç›®å‰æ˜¯åœ¨èŒdsï¼Œå¯¹AI agentå¾ˆæ„Ÿå…´è¶£ æ­£å¥½æƒ³é€šè¿‡è¿™ä¸ªæœºä¼šç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹

## Notes

<!-- Content_START -->
# 2026-01-15
<!-- DAILY_CHECKIN_2026-01-15_START -->
-   æ ‡å‡†åŒ–å¼€å‘ï¼š ä½¿ç”¨ `agent-starter-pack`å¿«é€Ÿæ­å»ºç¬¦åˆä¼ä¸šè§„èŒƒçš„ Agent é¡¹ç›®ç»“æ„ã€‚
    
-   æœ¬åœ°éªŒè¯ï¼ˆPlaygroundï¼‰ï¼š åœ¨æ­£å¼å‘å¸ƒå‰ï¼Œé€šè¿‡ Streamlit ç•Œé¢è¿›è¡Œå®æ—¶è°ƒè¯•ï¼Œç¡®ä¿ Agent çš„é€»è¾‘å’Œè¾“å‡ºç¬¦åˆé¢„æœŸã€‚
    
-   äº‘ç«¯éƒ¨ç½²ä¸æ³¨å†Œï¼š å°†ä»£ç æ¨é€åˆ°äº‘ç«¯ç¯å¢ƒã€‚
    
    -   `make register-gemini-enterprise`ï¼šè¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼Œå®ƒç›¸å½“äºåœ¨å…¬å¸çš„ AI åº”ç”¨å•†åº—æŒ‚ç‰Œä¸Šæ¶ï¼Œè®©å…¶ä»–éƒ¨é—¨çš„åŒäº‹å¯ä»¥é€šè¿‡ç»Ÿä¸€çš„å…¥å£ç›´æ¥è°ƒç”¨ä½ çš„ Agentã€‚
        

* * *

1.  ç»Ÿä¸€å…¥å£ï¼š åŒäº‹ä¸éœ€è¦å®‰è£…ä½ çš„ä»£ç ç¯å¢ƒï¼Œç›´æ¥åœ¨ä¼ä¸šçº§ Gemini ç•Œé¢å°±èƒ½æ‰¾åˆ°ä½ çš„ Agentã€‚
    
2.  æƒé™ç®¡ç†ï¼š ä¼ä¸šç‰ˆæä¾›äº†æ›´å®‰å…¨çš„èº«ä»½éªŒè¯ï¼Œç¡®ä¿åªæœ‰æˆæƒäººå‘˜èƒ½ä½¿ç”¨ç‰¹å®šçš„ä¼ä¸šæ•°æ®æ’ä»¶ã€‚
    
3.  ç®—åŠ›æ”¯æŒï¼š è¿è¡Œåœ¨äº‘ç«¯è€Œéæœ¬åœ°ï¼Œèƒ½å¤Ÿå¤„ç†æ›´é«˜å¹¶å‘çš„è¯·æ±‚ã€‚
<!-- DAILY_CHECKIN_2026-01-15_END -->

# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->

å…ˆè¡¥ä¸€ä¸‹  

-   Summary  
    ç®€å•èŠå¤© â†’ MINIMALï¼ˆæœ€çœé’±æœ€å¿«ï¼‰  
    æ—¥å¸¸ä»»åŠ¡ â†’ LOWï¼ˆæ¨èé»˜è®¤ï¼‰  
    åˆ†æä»»åŠ¡ â†’ MEDIUM  
    å¤æ‚æ¨ç† â†’ HIGHï¼ˆæœ€å‡†ä½†æœ€æ…¢ï¼‰  
    

### **ä¸ Gemini 2.5 çš„åŒºåˆ«**

| ç‰ˆæœ¬ | å‚æ•° | æ–¹å¼ |
| --- | --- | --- |
| Gemini 3 | thinking_level | çº§åˆ«é€‰æ‹© |
| Gemini 2.5 | thinking_budget | token é¢„ç®— |
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-09
<!-- DAILY_CHECKIN_2026-01-09_START -->


### ä¸€ã€Intro

**Model Context Protocolï¼ˆMCPï¼‰** æ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†åè®®ï¼Œç”¨äºå°† AI Agent ä¸å¤–éƒ¨å·¥å…·å’Œæ•°æ®æºè§£è€¦è¿æ¥ï¼Œè¢«ç§°ä¸º **â€œUSB-C for AIâ€**ã€‚

æ ¸å¿ƒä»·å€¼åœ¨äºï¼š

-   ç»Ÿä¸€å·¥å…·æ¥å…¥æ–¹å¼
    
-   æ¶ˆé™¤ Agent ä¸å·¥å…·ä¹‹é—´çš„ NÃ—M é›†æˆå¤æ‚åº¦
    
-   å®ç°â€œå³æ’å³ç”¨â€çš„å·¥å…·äº’æ“ä½œ
    

**æ ¸å¿ƒç»„æˆ**

-   MCP Serverï¼šæš´éœ²å·¥å…·ã€èµ„æºã€prompt
    
-   MCP Clientï¼šä½¿ç”¨è¿™äº›èƒ½åŠ›çš„ Agent
    
-   Tools / Resources / Promptsï¼šæ ‡å‡†åŒ–èƒ½åŠ›æ¥å£
    

* * *

### äºŒã€Google Managed MCP çš„ä¼˜åŠ¿

Google æä¾› **å®˜æ–¹æ‰˜ç®¡çš„ MCP Server**ï¼Œè®© Google Cloud åŸç”ŸæœåŠ¡â€œAgent-readyâ€ã€‚

ç›¸è¾ƒä¼ ç»Ÿ MCPï¼Œè‡ªèº«ä¼˜åŠ¿åŒ…æ‹¬ï¼š

-   æ— éœ€è‡ªè¡Œéƒ¨ç½²å’Œè¿ç»´ MCP Server
    
-   ä½¿ç”¨ Cloud IAM åšèº«ä»½ä¸æƒé™æ§åˆ¶
    
-   å†…ç½® Model Armorï¼Œé˜²æ­¢ prompt æ³¨å…¥å’Œæ•°æ®æ³„éœ²
    
-   è‡ªåŠ¨æ‰©å±•ï¼Œä¼ä¸šçº§ç¨³å®šæ€§
    

**é¦–æ‰¹æ”¯æŒæœåŠ¡**

-   Google Maps
    
-   BigQuery
    
-   Cloud Storage
    
-   GKE / Cloud Run / Compute Engine
    
-   æ•°æ®åº“ï¼ˆAlloyDBã€Cloud SQLã€Spannerï¼‰
    
-   Lookerã€Pub/Subã€Dataplex ç­‰
    

æ ¸å¿ƒç†å¿µï¼š**è®© Agent ç›´æ¥ã€å®‰å…¨åœ°æ“ä½œä¼ä¸šçº§äº‘èƒ½åŠ›**ã€‚

* * *

### ä¸‰ã€ADK ä¸­çš„ McpToolset

ADK é€šè¿‡ `McpToolset` å°† MCP Server çš„å·¥å…·æ— ç¼é›†æˆåˆ° Agent ä¸­ã€‚

**å·¥ä½œæµç¨‹**

1.  è¿æ¥ MCP Server
    
2.  è°ƒç”¨ `list_tools`
    
3.  è½¬æ¢ä¸º ADK Tool æ ¼å¼
    
4.  ä»£ç†å·¥å…·è°ƒç”¨
    
5.  è¿”å›ç»“æœç»™ Agent
    

**åŸºç¡€æ¥å£**

```
McpToolset(
    connection_params=...,   # Stdio / SSE / StreamableHTTP
    tool_filter=[...]        # å¯é€‰ï¼šé™åˆ¶å¯ç”¨å·¥å…·
)
```

* * *

### å››ã€ä¸‰ç§ MCP è¿æ¥æ–¹å¼

-   **Stdio**ï¼šæœ¬åœ° MCP Serverï¼ˆå¼€å‘ / è°ƒè¯•ï¼‰
    
-   **SSE**ï¼šè¿œç¨‹äº‹ä»¶æµï¼ˆå•å‘ï¼‰
    
-   **StreamableHTTP**ï¼šè¿œç¨‹æ‰˜ç®¡ MCPï¼ˆç”Ÿäº§æ¨èï¼‰
    

Google Managed MCP ä¸»è¦ä½¿ç”¨ **StreamableHTTP**ã€‚

* * *

### äº”ã€å®æˆ˜èƒ½åŠ›ç¤ºä¾‹

-   Google Maps MCPï¼šè·¯çº¿è§„åˆ’ã€åœ°ç‚¹æœç´¢
    
-   BigQuery MCPï¼šæ•°æ®é›†æµè§ˆã€Schema æŸ¥è¯¢ã€SQL åˆ†æ
    

Agent ä¸å†â€œç”Ÿæˆ SQL æˆ– API è°ƒç”¨ä»£ç â€ï¼Œè€Œæ˜¯ï¼š

-   ç†è§£ç”¨æˆ·æ„å›¾
    
-   è°ƒç”¨ MCP å·¥å…·
    
-   è§£é‡Šç»“æœ
    

è¿™æ˜¯ä»â€œä»£ç ç”Ÿæˆâ€å‘â€œèƒ½åŠ›è°ƒç”¨â€çš„å…³é”®è½¬å˜ã€‚

* * *

### å…­ã€tool\_filter çš„é‡è¦æ€§

`tool_filter` æ˜¯ MCP å®æˆ˜ä¸­çš„å…³é”®è®¾è®¡ç‚¹ã€‚

ä½œç”¨ï¼š

-   é™ä½ä¸Šä¸‹æ–‡ token æ¶ˆè€—
    
-   éµå¾ªæœ€å°æƒé™åŸåˆ™
    
-   æå‡æ¨¡å‹é€‰å·¥å…·çš„å‡†ç¡®æ€§
    

**åŸåˆ™**

-   åªæš´éœ² Agent å½“å‰ä»»åŠ¡æ‰€éœ€çš„å·¥å…·
    
-   é¿å…â€œå¤§è€Œå…¨â€çš„å·¥å…·é›†åˆ
    

* * *

### ä¸ƒã€æœ€ä½³å®è·µæ€»ç»“

-   ç”Ÿäº§ç¯å¢ƒä¼˜å…ˆä½¿ç”¨ **Google Managed MCP**
    
-   æ˜ç¡®åŒºåˆ† Agent èŒè´£ï¼Œé™åˆ¶å·¥å…·èŒƒå›´
    
-   ä½¿ç”¨ IAM ç²¾ç»†åŒ–æ§åˆ¶æƒé™
    
-   ç›‘æ§ MCP è°ƒç”¨é¢‘ç‡ä¸æˆæœ¬
    

* * *

-   MCP æ˜¯ Agent å·¥å…·äº’æ“ä½œçš„äº‹å®æ ‡å‡†
    
-   Google Managed MCP è®©ä¼ä¸šçº§äº‘æœåŠ¡å¤©ç„¶å¯è¢« Agent ä½¿ç”¨
    
-   ADK çš„ `McpToolset` æ˜¯è¿æ¥ Agent ä¸ç°å®ç³»ç»Ÿçš„å…³é”®æ¡¥æ¢
    
-   Agent æ¶æ„æ­£ä»â€œPrompt + LLMâ€æ¼”è¿›ä¸º **â€œLLM + æ ‡å‡†åŒ–èƒ½åŠ›ç½‘ç»œâ€**
<!-- DAILY_CHECKIN_2026-01-09_END -->

# 2026-01-08
<!-- DAILY_CHECKIN_2026-01-08_START -->



é•¿ç”Ÿå‘½å‘¨æœŸ Agent ä¼šåŒæ—¶é¢ä¸´ä¸¤ä¸ªç³»ç»Ÿæ€§æŒ‘æˆ˜ï¼š

1.  **Latencyï¼ˆå»¶è¿Ÿï¼‰**ï¼šä¸Šä¸‹æ–‡è¶Šé•¿ï¼Œè¯·æ±‚æˆæœ¬å’Œå“åº”æ—¶é—´è¶Šé«˜
    
2.  **Lost in the Middle**ï¼šLLM å¯¹é•¿ä¸Šä¸‹æ–‡ä¸­é—´å†…å®¹çš„è®°å¿†æ˜¾è‘—å¼±äºå¼€å¤´å’Œç»“å°¾ï¼Œå¯¼è‡´ç†è§£åå·®å’Œå¹»è§‰
    

ç»“è®ºï¼š**ç®€å•å †å ä¸Šä¸‹æ–‡ä¸ä»…ä¸èƒ½æå‡â€œè®°å¿†â€ï¼Œåè€Œä¼šé™ä½æ€§èƒ½ä¸å‡†ç¡®æ€§ã€‚**

* * *

### ADK çš„ä¸¤å¤§è§£å†³æ–¹æ¡ˆ

1\. Context Compactionï¼ˆä¸Šä¸‹æ–‡å‹ç¼©ï¼‰

**ç›®æ ‡**ï¼šæ§åˆ¶ä¸Šä¸‹æ–‡è§„æ¨¡ï¼Œé˜²æ­¢â€œcontext rotâ€ã€‚

**æœºåˆ¶**

-   å½“ä¸Šä¸‹æ–‡è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œå°†è¾ƒæ—©çš„å¤šè½®å¯¹è¯è‡ªåŠ¨æ‘˜è¦
    
-   ä¿ç•™æœ€è¿‘ N è½®åŸå§‹å¯¹è¯ï¼Œç¡®ä¿å½“å‰è¯­ä¹‰ç²¾åº¦
    
-   æ‘˜è¦æœ¬èº«ä½œä¸ºç»“æ„åŒ–å†å²è®°å¿†å‚ä¸åç»­æ¨ç†
    

**è§£å†³çš„é—®é¢˜**

-   é˜²æ­¢ä¸Šä¸‹æ–‡æ— é™å¢é•¿
    
-   ç¼“è§£ Lost in the Middle
    
-   é™ä½å»¶è¿Ÿä¸ token æˆæœ¬
    

**é€‚ç”¨åœºæ™¯**

-   é•¿å¯¹è¯
    
-   å¤šè½®äº¤äº’å¼ Agent
    
-   çŠ¶æ€éšæ—¶é—´é€æ­¥æ¼”åŒ–çš„ä»»åŠ¡
    

* * *

2\. Context Cachingï¼ˆä¸Šä¸‹æ–‡ç¼“å­˜ï¼‰

**ç›®æ ‡**ï¼šå‡å°‘é‡å¤è®¡ç®—ï¼Œæå‡æ€§èƒ½ä¸æ€§ä»·æ¯”ã€‚

**æœºåˆ¶**

-   å°†ç¨³å®šä¸å˜çš„ä¸Šä¸‹æ–‡å‰ç¼€ï¼ˆSystem Promptã€Agent Identityã€å·¥å…·å®šä¹‰ã€Few-shot ç¤ºä¾‹ï¼‰åœ¨ API å±‚ç¼“å­˜
    
-   åç»­è¯·æ±‚åªéœ€å¤„ç†åŠ¨æ€éƒ¨åˆ†ï¼ˆå½“å‰ç”¨æˆ·è¾“å…¥ã€æ£€ç´¢å†…å®¹ã€å‹ç¼©åçš„å†å²ï¼‰
    

**è§£å†³çš„é—®é¢˜**

-   é‡å¤å¤„ç†å¤§å‹ system prompt å¸¦æ¥çš„é«˜æˆæœ¬
    
-   ä¸å¿…è¦çš„å»¶è¿Ÿ
    

**æ”¶ç›Š**

-   æˆæœ¬å¯é™ä½ 60% ä»¥ä¸Š
    
-   æ˜¾è‘—é™ä½è¯·æ±‚å»¶è¿Ÿ
    

**é€‚ç”¨åœºæ™¯**

-   å¤§å‹ã€é•¿æœŸç¨³å®šçš„ system prompt
    
-   å·¥å…·å¤æ‚ã€schema è¾ƒå¤šçš„ Agent
    

* * *

### ä¸¤è€…çš„ååŒå…³ç³»

Context Compaction ä¸ Context Caching æ˜¯äº’è¡¥çš„ï¼š

-   **Caching** è´Ÿè´£ä¼˜åŒ–â€œç¨³å®šå‰ç¼€â€
    
-   **Compaction** è´Ÿè´£æ§åˆ¶â€œå¯å˜å†å²â€
    

å…±åŒæ„æˆ ADK æ¨èçš„ä¸Šä¸‹æ–‡ç»“æ„ï¼š

-   Stable Prefixï¼ˆå¯ç¼“å­˜ï¼‰
    
-   Variable Suffixï¼ˆå¯å‹ç¼©ï¼‰
    

* * *

### å…³é”®è®¾è®¡åŸåˆ™ï¼ˆBest Practicesï¼‰

1.  **ä¸¥æ ¼åŒºåˆ† Static ä¸ Dynamic å†…å®¹**
    
    -   Staticï¼šsystem promptã€å·¥å…·ã€è§„åˆ™ï¼ˆé€‚åˆç¼“å­˜ï¼‰
        
    -   Dynamicï¼šturn instructionsã€ç”¨æˆ·è¾“å…¥ã€æ£€ç´¢ç»“æœï¼ˆä¸ç¼“å­˜ï¼‰
        
2.  **è®¾ç½®åˆç†çš„ Compaction ç­–ç•¥**
    
    -   æ˜ç¡®è§¦å‘é˜ˆå€¼
        
    -   ä¿ç•™è¶³å¤Ÿçš„æœ€è¿‘è½®æ¬¡
        
    -   ä½¿ç”¨å¯é çš„æ‘˜è¦æ¨¡å‹
        
3.  **æŒç»­ç›‘æ§æŒ‡æ ‡**
    
    -   Cache hit rate
        
    -   å¹³å‡ä¸Šä¸‹æ–‡é•¿åº¦
        
    -   Compaction é¢‘ç‡
        
    -   é•¿æœŸå“åº”è´¨é‡å˜åŒ–
        

* * *

-   é«˜è´¨é‡ Agent çš„å…³é”®ä¸åœ¨äºâ€œè®°ä½ä¸€åˆ‡â€ï¼Œè€Œåœ¨äºï¼š
    
    -   è®°ä½è¯¥è®°ä½çš„
        
    -   ä¸¢å¼ƒæˆ–å‹ç¼©ä¸å†é‡è¦çš„
        
    -   å¤ç”¨ç¨³å®šã€ä¸å˜çš„è®¤çŸ¥ç»“æ„
<!-- DAILY_CHECKIN_2026-01-08_END -->

# 2026-01-07
<!-- DAILY_CHECKIN_2026-01-07_START -->




ADK å†…ç½® **Session Rewind** èƒ½åŠ›ï¼Œä½¿ Agent çš„ä¼šè¯å…·å¤‡â€œæ—¶é—´å›æº¯â€ç‰¹æ€§ï¼Œæ— éœ€æ•°æ®åº“è¿ç§»æˆ–å¤æ‚çŠ¶æ€ç®¡ç†ï¼Œå³å¯æ¢å¤åˆ°ä»»æ„å†å²æ‰§è¡Œç‚¹ã€‚

Session çš„å›æº¯ä¸ä»…ä½œç”¨äºå¯¹è¯å†…å®¹ï¼Œè¿˜ä¼š **å®Œæ•´æ¢å¤**ï¼š

-   Working Stateï¼ˆçŠ¶æ€ï¼‰
    
-   Artifactsï¼ˆæ–‡ä»¶ / äº§ç‰©ï¼‰
    

### å…³é”®æœºåˆ¶

-   **Invocation ID**  
    æ¯ä¸€æ¬¡ Agent è¿è¡Œï¼ˆåŒ…æ‹¬å·¥å…·è°ƒç”¨ï¼‰éƒ½ä¼šç”Ÿæˆå”¯ä¸€çš„ invocation\_idï¼Œå¯ä½œä¸ºå›æº¯é”šç‚¹ã€‚
    
-   **rewind\_before\_invocation\_id**  
    å›æº¯åˆ°æŒ‡å®š invocation ä¹‹å‰çš„å®Œæ•´ä¼šè¯çŠ¶æ€ã€‚
    
-   **runner.rewind\_async(...)**  
    è§¦å‘ä¼šè¯å›æº¯çš„æ ¸å¿ƒ APIã€‚
    

### æ¼”ç¤ºæµç¨‹è¦ç‚¹

1.  åˆå§‹åŒ– Sessionï¼ˆInMemoryRunnerï¼‰
    
2.  å†™å…¥çŠ¶æ€ä¸æ–‡ä»¶ï¼ˆstate + artifactï¼‰
    
3.  è®°å½•å…³é”®ä¿®æ”¹æ“ä½œå¯¹åº”çš„ invocation\_id
    
4.  ç»§ç»­äº§ç”Ÿæ–°çŠ¶æ€ä¸æ–°æ–‡ä»¶ç‰ˆæœ¬
    
5.  è°ƒç”¨ rewind\_async å›æº¯
    
6.  éªŒè¯çŠ¶æ€ä¸æ–‡ä»¶å·²æ¢å¤åˆ°å†å²ç‰ˆæœ¬
    

### èƒ½åŠ›æ€»ç»“

Session Rewind å¯ä»¥åŒæ—¶æ’¤é”€ï¼š

-   çŠ¶æ€æ›´æ–°ï¼ˆtool\_context.stateï¼‰
    
-   æ–‡ä»¶å†™å…¥ï¼ˆArtifacts ç‰ˆæœ¬ï¼‰
    

å›æº¯åï¼ŒAgent åƒâ€œä»æœªæ‰§è¡Œè¿‡è¿™äº›æ“ä½œâ€ä¸€æ ·ç»§ç»­è¿è¡Œã€‚

### å…¸å‹åº”ç”¨åœºæ™¯

-   **ç¼–è¾‘æ¶ˆæ¯ï¼ˆEdit Messageï¼‰**  
    å›æº¯åˆ°è¯¥ç”¨æˆ·æ¶ˆæ¯ä¹‹å‰ï¼Œå†æäº¤ä¿®æ”¹åçš„æ¶ˆæ¯
    
-   **é‡æ–°ç”Ÿæˆï¼ˆRegenerateï¼‰**  
    å›æº¯åˆ°ä¸Šä¸€æ¬¡ç”¨æˆ·è¾“å…¥ä¹‹å‰ï¼Œé‡æ–°è¿è¡Œ Agent
    
-   **æ’¤é”€æ“ä½œï¼ˆUndoï¼‰**  
    å›æº¯åˆ°å…³é”®çŠ¶æ€å˜æ›´å‰
    
-   **å¯¹è¯åˆ†æ”¯ï¼ˆBranchingï¼‰**  
    ä»åŒä¸€å†å²ç‚¹å‡ºå‘ï¼Œæ¢ç´¢ä¸åŒå†³ç­–è·¯å¾„
<!-- DAILY_CHECKIN_2026-01-07_END -->

# 2026-01-05
<!-- DAILY_CHECKIN_2026-01-05_START -->





## ä¸€ã€ä¸ºä»€ä¹ˆä¼ ç»Ÿçš„ â€œAppend-Everythingâ€ ä¼šå¤±è´¥

### 1ï¸âƒ£ ä¼ ç»Ÿåšæ³•çš„æœ¬è´¨

```text
Context = System Prompt
        + å…¨éƒ¨å†å²å¯¹è¯
        + æ‰€æœ‰å·¥å…·è¾“å‡º
        + å½“å‰ç”¨æˆ·è¾“å…¥
```

* * *

### ä¸‰ä¸ªä¸å¯é¿å…çš„å¤±è´¥

ï¼ˆ1ï¼‰Cost & Latency Spirals

-   token è¶Šå¤š â†’ æ¨ç†æˆæœ¬çº¿æ€§ç”šè‡³è¶…çº¿æ€§å¢é•¿
    
-   time-to-first-token æ˜æ˜¾å˜æ…¢
    
-   åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¸å¯æ§
    

ï¼ˆ2ï¼‰Lost in the Middle

-   LLM å¯¹ **ä¸Šä¸‹æ–‡ä¸­é—´çš„ä¿¡æ¯æ³¨æ„åŠ›æœ€å¼±**
    
-   é‡è¦äº‹å®å³ä½¿â€œå­˜åœ¨â€ï¼Œä¹Ÿä¼šè¢«å¿½ç•¥æˆ–äº§ç”Ÿå¹»è§‰
    
-   å¤§ context window åªèƒ½ç¼“è§£ï¼Œä¸èƒ½æ ¹æ²»
    

> **å…³é”®è®¤çŸ¥**ï¼š  
> \*â€œä¸Šä¸‹æ–‡æ˜¯å¦è¢«æ­£ç¡®ç»„ç»‡â€æ¯”â€œä¸Šä¸‹æ–‡æ˜¯å¦è¶³å¤Ÿé•¿â€æ›´é‡è¦

ï¼ˆ3ï¼‰Security & Prompt Injection

-   system æŒ‡ä»¤ã€ç”¨æˆ·è¾“å…¥ã€å·¥å…·è¾“å‡ºæ··åœ¨ä¸€èµ·
    
-   ç”¨æˆ·å¯é€šè¿‡è¾“å…¥â€œè¦†ç›–â€ç³»ç»Ÿè¡Œä¸º
    
-   å®‰å…¨è¾¹ç•Œæ¶ˆå¤±
    

* * *

## äºŒã€ADK çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³

> **Context = ä»å¤šä¸ªçŠ¶æ€æºä¸­ï¼Œç»è¿‡è§„åˆ™ç¼–è¯‘åï¼Œç”Ÿæˆçš„æœ€å°å¿…è¦è§†å›¾**

* * *

## ä¸‰ã€ADK å››å±‚ Context æ¶æ„ï¼ˆéå¸¸é‡è¦ï¼‰

### 1ï¸âƒ£ Working Contextï¼ˆå‘é€ç»™ LLMï¼‰

-   **å”¯ä¸€çœŸæ­£è¿›å…¥æ¨¡å‹çš„å†…å®¹**
    
-   ç”Ÿå‘½å‘¨æœŸï¼š**å•æ¬¡è°ƒç”¨**
    
-   ç”±ç³»ç»Ÿè‡ªåŠ¨â€œç¼–è¯‘â€ç”Ÿæˆ
    

ç»“æ„æ‹†åˆ†

```
Stable Prefixï¼ˆå¯ç¼“å­˜ï¼‰
- system prompt
- agent identity
- schema / tools / policies

Variable Suffixï¼ˆåŠ¨æ€ï¼‰
- å½“å‰ user turn
- æœ¬è½® tool è¾“å‡º
- æ£€ç´¢åˆ°çš„ memory ç‰‡æ®µ
```

è¿™æ˜¯ **Context Caching** èƒ½æˆç«‹çš„æ ¹æœ¬åŸå› ã€‚

* * *

### 2ï¸âƒ£ Sessionï¼ˆä¼šè¯çŠ¶æ€ï¼‰

-   ç”Ÿå‘½å‘¨æœŸï¼š**ä¸€æ¬¡å¯¹è¯**
    
-   èŒè´£ï¼š
    
    -   Event logï¼ˆå¯¹è¯ã€å·¥å…·è°ƒç”¨ï¼‰
        
    -   Key-Value Stateï¼ˆä¾¿ç­¾çº¸ï¼‰
        

```python
session.state["customer_tier"] = "premium"
session.state["current_order_id"] = "ORD-12345"
```

**Session State â‰  Memory**

-   åªå­˜**å½“å‰å¯¹è¯æœ‰ç”¨çš„ä¸´æ—¶ä¿¡æ¯**
    

* * *

### 3ï¸âƒ£ Memoryï¼ˆé•¿æœŸè®°å¿†ï¼‰

-   ç”Ÿå‘½å‘¨æœŸï¼š**è·¨ä¼šè¯**
    
-   å­˜ä»€ä¹ˆï¼Ÿ
    
    -   ç”¨æˆ·åå¥½
        
    -   é‡è¦å†å²äº‹å®
        
    -   ä¼šè¯æ‘˜è¦
        

å·¥ä½œæ¨¡å¼ï¼š

```text
ä¼šè¯ç»“æŸ â†’ å†™å…¥ Memory
æ–°ä¼šè¯å¼€å§‹ â†’ Search Memory â†’ ç‰‡æ®µæ³¨å…¥ Context
```

**ä¸æ˜¯æŠŠ memory å…¨å¡è¿› promptï¼Œè€Œæ˜¯â€œæ£€ç´¢åæ³¨å…¥â€**

* * *

### 4ï¸âƒ£ Artifactsï¼ˆå¤§æ–‡ä»¶ï¼‰

-   ç”Ÿå‘½å‘¨æœŸï¼š**ç‹¬ç«‹æŒä¹…åŒ–**
    
-   è§£å†³çš„é—®é¢˜ï¼š
    
    -   PDF / CSV / å›¾ç‰‡ / é•¿æ–‡æœ¬
        

* * *

## å››ã€Context = ç¼–è¯‘æµæ°´çº¿ï¼ˆCompiler Pipelineï¼‰

ADK æŠŠ Context æ„å»ºå½“æˆä¸€ä¸ª **ç¼–è¯‘è¿‡ç¨‹**ï¼š

```
filter â†’ compact â†’ summarize â†’ format
```

è¿™æ„å‘³ç€ï¼š

-   ä¸æ˜¯æ‰€æœ‰å†å²éƒ½å€¼å¾—è¿›å…¥ prompt
    
-   Context æ„å»ºæ˜¯ **è§„åˆ™é©±åŠ¨çš„å·¥ç¨‹ç³»ç»Ÿ**
    
-   å¯ä»¥è¢«æµ‹è¯•ã€ä¼˜åŒ–ã€æ›¿æ¢
    

* * *

## äº”ã€Static vs Turn Instructionsï¼ˆç”Ÿäº§çº§å…³é”®æ¨¡å¼ï¼‰

### 1ï¸âƒ£ Static Instructionsï¼ˆé™æ€æŒ‡ä»¤ï¼‰

**æ”¾åœ¨ system role**

-   å†…å®¹ç¨³å®šï¼š
    
    -   Policy
        
    -   Schema
        
    -   Tool å®šä¹‰
        
    -   Few-shot ç¤ºä¾‹
        
-   **å¯è¢«æ¨¡å‹ API ç¼“å­˜ï¼ˆprefix cachingï¼‰**
    

```text
You are a customer service agentâ€¦
Policiesâ€¦
Response JSON Schemaâ€¦
```

ğŸ“Œ æ›´æ–°é¢‘ç‡ï¼šä½  
ğŸ“Œ æˆæœ¬ï¼šä¸€æ¬¡ç®—ï¼Œå¤šæ¬¡å¤ç”¨

* * *

### 2ï¸âƒ£ Turn Instructionsï¼ˆè½®æ¬¡æŒ‡ä»¤ï¼‰

**æ”¾åœ¨ user roleï¼Œä½†ç”±åç«¯ç”Ÿæˆ**

-   æ¯ä¸€è½®åŠ¨æ€å˜åŒ–ï¼š
    
    -   å½“å‰ç›®æ ‡
        
    -   ç”¨æˆ·çŠ¶æ€
        
    -   æ£€ç´¢åˆ°çš„ memory
        
-   ä¸ç”¨æˆ·è¾“å…¥ç‰©ç†éš”ç¦» â†’ **å®‰å…¨**
    

```text
## Current Context
Customer tier: premium
Retrieved memory: previous delay resolved

## This Turnâ€™s Goal
Answer order status
```

* * *

### 3ï¸âƒ£ æœ€ç»ˆç»“æ„

```
[system]  Static Instructions   â† cacheable
[user]    Turn Instructions     â† backend-controlled
[user]    User Message          â† raw input
```

ğŸ‘‰ è¿™æ˜¯ **é«˜æ€§èƒ½ + é«˜å®‰å…¨ Agent çš„æ ‡å‡†ç»“æ„**

* * *

## å…­ã€ä¸ºä»€ä¹ˆ Context Caching èƒ½æ˜¾è‘—é™æœ¬

| è¯·æ±‚ | Static | Dynamic | å®é™…è®¡ç®— |
| --- | --- | --- | --- |
| #1 | 2000 | 500 | 2500 |
| #2 | cached | 600 | ~600 |
| #3 | cached | 450 | ~450 |

ğŸ“Œ ç°å®å½±å“ï¼š

-   å»¶è¿Ÿæ˜¾è‘—ä¸‹é™
    
-   æˆæœ¬å¯é¢„æµ‹
    
-   é«˜å¹¶å‘ç³»ç»Ÿå¯è¡Œ
    

* * *

## ä¸ƒã€InvocationContext vs ToolContext

### æ ¸å¿ƒæ€æƒ³

> **å·¥å…· â‰  agentï¼Œä¸åº”è¯¥çœ‹åˆ°å…¨éƒ¨çŠ¶æ€**

-   InvocationContextï¼š
    
    -   agent ä¸»é€»è¾‘
        
    -   å…¨è®¿é—®
        
-   ToolContextï¼š
    
    -   ç²¾å‡†æˆæƒ
        
    -   é˜²æ­¢æ•°æ®æ³„éœ²
        

```text
Cart Tool: åªèƒ½è®¿é—® cart
Payment Tool: æ‰èƒ½çœ‹åˆ° payment_token
```

* * *

## å…«ã€å®Œæ•´ Agent ç¤ºä¾‹çš„çœŸå®å«ä¹‰

ä½ æœ€åçœ‹åˆ°çš„ demo å¹¶ä¸æ˜¯é‡ç‚¹åœ¨â€œå®¢æœæœºå™¨äººâ€ï¼Œè€Œæ˜¯åœ¨å±•ç¤ºï¼š

-   Session / Artifact / Tool æ˜¯å¦‚ä½•è§£è€¦çš„
    
-   Static instruction å¦‚ä½•é•¿æœŸç¨³å®š
    
-   Context å¦‚ä½•è¢« runner è‡ªåŠ¨ç¼–è¯‘
    
-   Agent ä¸ç›´æ¥å…³å¿ƒâ€œä¸Šä¸‹æ–‡æ‹¼æ¥â€
<!-- DAILY_CHECKIN_2026-01-05_END -->

# 2026-01-04
<!-- DAILY_CHECKIN_2026-01-04_START -->






ä»Šå¤©æœ‰ç‚¹å¿™â€¦å­¦ä¹ äº†ä¸€ä¸‹è¯¾ç¨‹é‡Œçš„Retail site agent

æ˜å¤©å†è¡¥ç¬”è®°
<!-- DAILY_CHECKIN_2026-01-04_END -->

# 2026-01-03
<!-- DAILY_CHECKIN_2026-01-03_START -->







| æ¦‚å¿µ | å­¦åˆ°äº†ä»€ä¹ˆ |
| --- | --- |
| Code Execution | è®© LLM åœ¨æ²™ç®±ä¸­æ‰§è¡Œä»£ç ï¼Œè·å¾—ç²¾ç¡®ç»“æœ |
| GenAI SDK | ä½¿ç”¨ types.Tool(code_execution=...) |
| ADK Agent | ä½¿ç”¨ code_executor=BuiltInCodeExecutor() |
| æ²™ç®±å®‰å…¨ | ä»£ç åœ¨éš”ç¦»ç¯å¢ƒè¿è¡Œï¼Œæœ‰æ‰§è¡Œé™åˆ¶ |

### **ä»£ç æ¨¡æ¿**

**GenAI SDK ç›´æ¥è°ƒç”¨ï¼š**

```
from google.genai import types

tool = types.Tool(code_execution=types.ToolCodeExecution())
response = client.models.generate_content(
    model="gemini-2.0-flash",
    contents=question,
    config=types.GenerateContentConfig(tools=[tool])
)
```

**ADK Agent é…ç½®ï¼š**

```
from google.adk.agents import Agent
from google.adk.code_executors import BuiltInCodeExecutor

agent = Agent(
    name="code_agent",
    model="gemini-2.0-flash",
    instruction="...",
    code_executor=BuiltInCodeExecutor()
)
```
<!-- DAILY_CHECKIN_2026-01-03_END -->

# 2026-01-02
<!-- DAILY_CHECKIN_2026-01-02_START -->








æ˜¨å¤©å¿˜è®°äº† å…ˆè¡¥ä¸€ä¸‹æ˜¨å¤©çš„â€¦

A. ç¬¬ä¸€å±‚ï¼šç³»ç»Ÿè¡Œä¸ºè¿½è¸ª (Agent Telemetry)

-   **å·¥å…·ï¼š** Cloud Trace
    
-   **ä½œç”¨ï¼š** è§£å†³â€œæ…¢â€å’Œâ€œé”™â€çš„é—®é¢˜ã€‚
    
-   **æ ¸å¿ƒæ¦‚å¿µ - Spanï¼ˆè·¨åº¦ï¼‰ï¼š** å®ƒæŠŠä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·è¯·æ±‚æ‹†è§£æˆäº†è¯¦ç»†çš„é“¾æ¡ï¼š `æ”¶åˆ°è¯·æ±‚` â†’ `è§£æè¾“å…¥(50ms)` â†’ `è°ƒç”¨LLM(800ms)` â†’ `æœç´¢å·¥å…·(600ms)` â†’ `æ ¼å¼åŒ–è¾“å‡º` _é€šè¿‡è¿™ä¸ªé“¾æ¡ï¼Œä½ èƒ½ä¸€çœ¼çœ‹å‡ºç“¶é¢ˆåœ¨å“ªé‡Œã€‚_
    

B. ç¬¬äºŒå±‚ï¼šäº¤äº’ä¸æ¶ˆè€—è®°å½• (Prompt-Response Logging)

-   **å·¥å…·ï¼š** GCS (å­˜å‚¨) + BigQuery (æŸ¥è¯¢)
    
-   **ä½œç”¨ï¼š** è§£å†³â€œæˆæœ¬â€å’Œâ€œè´¨é‡â€çš„é—®é¢˜ã€‚
    
-   **æ ¸å¿ƒæ¨¡å¼ - éšç§ä¿æŠ¤æ¨¡å¼ (**`NO_CONTENT`**)ï¼š**
    
    -   é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿ**åªè®°å½•å…ƒæ•°æ®**ï¼ˆç”¨äº†ä»€ä¹ˆæ¨¡å‹ã€æ¶ˆè€—äº†å¤šå°‘ Tokenã€è€—æ—¶å¤šä¹…ã€æ—¶é—´æˆ³ï¼‰ã€‚
        
    -   **ä¸è®°å½•**ç”¨æˆ·çš„åŸå§‹ Prompt å’Œ LLM çš„å…·ä½“å›ç­”ï¼ˆé™¤éä½ æ˜¾å¼å¼€å¯ `ALL` æ¨¡å¼ï¼‰ã€‚
        
-   **æ•°æ®æµå‘ï¼š** æ—¥å¿—ä¼šè‡ªåŠ¨å­˜å…¥ Google Cloud Storageï¼Œå¹¶åŒæ­¥åˆ° BigQueryã€‚å¯ä»¥ç›´æ¥å†™ SQL è¯­å¥æ¥æŸ¥è¯¢ï¼šâ€œè¿‡å»24å°æ—¶ï¼ŒGemini-2.0 æ¨¡å‹ä¸€å…±æ¶ˆè€—äº†å¤šå°‘ Tokenï¼Ÿâ€
<!-- DAILY_CHECKIN_2026-01-02_END -->

# 2025-12-31
<!-- DAILY_CHECKIN_2025-12-31_START -->









ä»Šå¤©çš„å†…å®¹æœ‰ç‚¹ç‚¹å¤šï¼Œç”¨geminiè€å¸ˆè¾…åŠ©äº†ä¸€ä¸‹ï¼Œè®°å½•ä¸€ä¸‹å¤§æ¦‚å†…å®¹å§ã€‚

### ç¬¬ä¸€é˜¶æ®µï¼šå‡†å¤‡å·¥ä½œ (ç¯å¢ƒæ­å»º)

åœ¨å¼€å§‹â€œå»ºå·¥å‚â€ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå‡†å¤‡å¥½å·¥å…·ã€‚

Step 1: å®‰è£…å¿…è¦å·¥å…·

è¿™ç›¸å½“äºå·¥åœ°çš„â€œå…¥åœºå‡†å¤‡â€ã€‚ä½ éœ€è¦ä¸¤ä¸ªæ ¸å¿ƒå·¥å…·ï¼š

1.  `uv`: ä¸€ä¸ªæé€Ÿçš„ Python åŒ…ç®¡ç†å™¨ï¼ˆæ¯” pip å¿«å¾ˆå¤šï¼‰ã€‚
    
2.  `gcloud CLI`: Google Cloud çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ¥åœ¨ä½ çš„ç”µè„‘ä¸Šæ§åˆ¶äº‘ç«¯èµ„æºã€‚
    

**æ“ä½œæŒ‡ä»¤ï¼š** æ‰“å¼€ä½ çš„ç»ˆç«¯ï¼ˆTerminalï¼‰ï¼Œåˆ†åˆ«è¿è¡Œï¼š

Bash

```
# 1. å®‰è£… UV (å¦‚æœä½ çš„ç”µè„‘æ˜¯ Mac/Linux)
curl -LsSf https://astral.sh/uv/install.sh | sh

# 2. ç¡®è®¤ gcloud æ˜¯å¦å®‰è£… (å¦‚æœæ²¡æœ‰ï¼Œéœ€è¦å» Google Cloud å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…)
gcloud --version
```

* * *

### ç¬¬äºŒé˜¶æ®µï¼šåˆ›å»ºé¡¹ç›® (ç”Ÿæˆå·¥å‚è“å›¾)

è¿™ä¸€æ­¥å°±æ˜¯ Day 4 æåˆ°çš„â€œå¿«é€Ÿå¼€å§‹â€ã€‚æˆ‘ä»¬ä¸éœ€è¦ä»é›¶å¼€å§‹å†™å‡ åä¸ªé…ç½®æ–‡ä»¶ï¼Œç›´æ¥ç”¨ Google æä¾›çš„â€œå¯åŠ¨åŒ…â€ (`agent-starter-pack`) ç”Ÿæˆä¸€å¥—æ ‡å‡†çš„ç›®å½•ç»“æ„ã€‚

Step 2: ç”Ÿæˆä»£ç æ¡†æ¶

æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªåä¸º `my-agent` çš„æ–°é¡¹ç›®ã€‚è¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆ `Dockerfile`ã€`cloudbuild.yaml`ï¼ˆæµæ°´çº¿å›¾çº¸ï¼‰ç­‰å¤æ‚æ–‡ä»¶ã€‚

**æ“ä½œæŒ‡ä»¤ï¼š**

Bash

```
# è¿™è¡Œå‘½ä»¤çš„æ„æ€æ˜¯ï¼šç”¨ agent-starter-pack å·¥å…·ï¼Œåˆ›å»ºä¸€ä¸ªå« my-agent çš„é¡¹ç›®
# -a adk_base: ä½¿ç”¨ ADK åŸºç¡€æ¨¡æ¿
# -d agent_engine: ç›®æ ‡æ˜¯éƒ¨ç½²åˆ° Agent Engine
uvx agent-starter-pack create my-agent -a adk_base -d agent_engine

# è¿›å…¥è¿™ä¸ªæ–°åˆ›å»ºçš„æ–‡ä»¶å¤¹
cd my-agent
```

**æ­¤æ—¶ä½ çš„æ–‡ä»¶å¤¹é‡Œä¼šæœ‰è¿™äº›ä¸œè¥¿ï¼š**

-   `agent/`: æ”¾ä½ å†™çœŸæ­£ Agent é€»è¾‘ï¼ˆPrompt, Toolsï¼‰çš„åœ°æ–¹ã€‚
    
-   `deployment/`: æ”¾æµæ°´çº¿é…ç½®çš„åœ°æ–¹ï¼ˆä¸ç”¨åŠ¨ï¼‰ã€‚
    
-   `Makefile`: ä¸€ä¸ªå¿«æ·æŒ‡ä»¤æ–‡ä»¶ï¼ˆç¨åæˆ‘ä»¬è¦ç”¨å®ƒæ¥ä¸€é”®éƒ¨ç½²ï¼‰ã€‚
    

* * *

### ç¬¬ä¸‰é˜¶æ®µï¼šè¿æ¥äº‘ç«¯ (é…ç½®èº«ä»½)

ä»£ç åœ¨æœ¬åœ°ç”Ÿæˆå¥½äº†ï¼Œç°åœ¨è¦å‘Šè¯‰å®ƒï¼šâ€œæˆ‘ä»¬è¦æŠŠè¿™ä¸ª Agent é€åˆ° Google Cloud çš„å“ªä¸ªæˆ¿é—´ï¼ˆProjectï¼‰å»â€ã€‚

Step 3: è®¾ç½®ç¯å¢ƒå˜é‡

ä½ éœ€è¦å‘Šè¯‰ä»£ç ä¸‰ä¸ªä¿¡æ¯ï¼š

1.  **Project ID**: ä½ çš„ Google Cloud é¡¹ç›® IDã€‚
    
2.  **Region**: æœåŠ¡å™¨åœ¨å“ªï¼ˆé€šå¸¸é€‰ `us-central1`ï¼‰ã€‚
    
3.  **Staging Bucket**: ä¸€ä¸ªäº‘å­˜å‚¨æ¡¶ï¼ˆç›¸å½“äºä¸­è½¬ç«™ï¼Œä»£ç å…ˆä¸Šä¼ åˆ°è¿™ï¼Œå†éƒ¨ç½²ï¼‰ã€‚
    

**æ“ä½œæŒ‡ä»¤ï¼š**

Bash

```
# æ›¿æ¢ä¸‹é¢çš„ "your-project-id" ä¸ºä½ çœŸå®çš„ ID
export GOOGLE_CLOUD_PROJECT="your-project-id"
export GOOGLE_CLOUD_LOCATION="us-central1"

# æ›¿æ¢ä¸‹é¢çš„ bucket åå­— (ä½ éœ€è¦å…ˆåœ¨ Google Cloud Console é‡Œåˆ›å»ºä¸€ä¸ª Bucket)
export STAGING_BUCKET="gs://your-staging-bucket-name"

# ç™»å½•ä½ çš„è´¦å·ï¼Œç¡®è®©ç»ˆç«¯æœ‰æƒé™æ“ä½œ
gcloud auth login
gcloud config set project $GOOGLE_CLOUD_PROJECT
```

* * *

### ç¬¬å››é˜¶æ®µï¼šæ­£å¼éƒ¨ç½² (å¯åŠ¨æµæ°´çº¿)

è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚æˆ‘ä»¬è¦æŠŠâ€œè¯´æ˜ä¹¦â€ï¼ˆæºä»£ç ï¼‰å‘é€ç»™ Google Cloudï¼Œè®©å®ƒæ ¹æ®è¯´æ˜ä¹¦æŠŠ Agent è¿è¡Œèµ·æ¥ã€‚

Step 4: ä¸€é”®éƒ¨ç½²

è¿™é‡Œç”¨åˆ°äº† `Make` å‘½ä»¤ï¼Œå®ƒæŠŠä¸€é•¿ä¸²å¤æ‚çš„ä¸Šä¼ ã€æ„å»ºå‘½ä»¤å°è£…æˆäº†ä¸€ä¸ªç®€å•çš„å•è¯ `deploy`ã€‚

**æ“ä½œæŒ‡ä»¤ï¼š**

Bash

```
# åœ¨ my-agent ç›®å½•ä¸‹è¿è¡Œ
make deploy
```

**è¿™ä¸€æ­¥èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿï¼ˆæµæ°´çº¿åœ¨å·¥ä½œï¼‰**

1.  ç”µè„‘æŠŠä½ çš„ `agent/` æ–‡ä»¶å¤¹é‡Œçš„ä»£ç æ‰“åŒ…ã€‚
    
2.  ä¸Šä¼ åˆ°ä½ åˆšæ‰è®¾ç½®çš„ `STAGING_BUCKET`ï¼ˆä¸­è½¬ç«™ï¼‰ã€‚
    
3.  é€šçŸ¥ Vertex AI Agent Engineï¼šâ€œå˜¿ï¼Œä»£ç åˆ°äº†ï¼Œè¯·æŒ‰ç…§ `pyproject.toml` é‡Œçš„ä¾èµ–å®‰è£…ç¯å¢ƒï¼Œå¹¶å¯åŠ¨æœåŠ¡ã€‚â€
    
4.  ç­‰å¾…å‡ åˆ†é’Ÿï¼Œç›´åˆ°ç»ˆç«¯æ˜¾ç¤º `Deploy Success`ã€‚
    

* * *

### ç¬¬äº”é˜¶æ®µï¼šæµ‹è¯• (éªŒæ”¶æˆæœ)

ç°åœ¨ Agent åº”è¯¥å·²ç»åœ¨äº‘ç«¯è¿è¡Œäº†ã€‚æˆ‘ä»¬è¦åœ¨æœ¬åœ°å†™å‡ è¡Œ Python ä»£ç æ¥è¿œç¨‹è°ƒç”¨å®ƒï¼Œçœ‹çœ‹å®ƒèƒ½ä¸èƒ½å›ç­”é—®é¢˜ã€‚

Step 5: å†™ä¸€ä¸ªæµ‹è¯•è„šæœ¬

åœ¨ `my-agent` ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å« `test_agent.py`ï¼Œç²˜è´´ä»¥ä¸‹ä»£ç ï¼š

Python

```
from google.cloud import aiplatform

# 1. åˆå§‹åŒ–è¿æ¥
aiplatform.init(
    project="your-project-id", # è®°å¾—æ›¿æ¢ ID
    location="us-central1"
)

# 2. æ‰¾åˆ°åˆšæ‰éƒ¨ç½²çš„ Agent
# æ³¨æ„ï¼šä½ éœ€è¦å» Google Cloud Console çš„ Vertex AI -> Agent Builder é¡µé¢
# æ‰¾åˆ°ç”Ÿæˆçš„ Agent IDï¼Œæ›¿æ¢ä¸‹é¢è¿™ä¸€ä¸²
agent_id = "projects/your-project-id/locations/us-central1/agents/YOUR_AGENT_ID"
agent = aiplatform.Agent(agent_id)

# 3. åˆ›å»ºä¸€ä¸ªèŠå¤©ä¼šè¯
session = agent.create_session()

# 4. å‘é€æµ‹è¯•æ¶ˆæ¯
print("æ­£åœ¨è¯¢é—® Agent...")
response = session.chat("ä½ å¥½ï¼Œè¯·åšä¸€ä¸ªè‡ªæˆ‘ä»‹ç»ã€‚")
print("Agent å›å¤:", response.text)
```

**æ“ä½œæŒ‡ä»¤ï¼š**

Bash

```
python test_agent.py
```

  
è®°å½•ä¸€ä¸‹æˆåŠŸäº†ï¼ï¼

![æˆªå±2025-12-31 14.01.07.png](https://raw.githubusercontent.com/IntensiveCoLearning/GoogleAIAgent25Days/main/assets/xinyuuum2/images/2025-12-31-1767160916971-__2025-12-31_14.01.07.png)
<!-- DAILY_CHECKIN_2025-12-31_END -->

# 2025-12-30
<!-- DAILY_CHECKIN_2025-12-30_START -->











-   One liner with Agent Starter Pack
    

```bash
uvx agent-starter-pack create -y --api-key YOUR_GEMINI_API_KEY
```

-   Using ADK CLI
    

```bash
uv init
uv add google-adk
uv add google-genai
export GOOGLE_API_KEY="YOUR_API_KEY"
source .venv/bin/activate
adk create my_agent
```

-   Download sample and run locally
    

```bash
curl '<https://raw.githubusercontent.com/GoogleCloudPlatform/devrel-demos/refs/heads/main/ai-ml/agent-labs/gemini-3-pro-agent-demo/my_agent/agent.py>' > my_agent/agent.py
adk web
```

# Google Search Tool

**Python Configuration**

```
from google.adk.agents import Agent
from google.adk.tools import google_search

agent = Agent(
    name="search_assistant",
    model="gemini-2.5-flash",
    instruction="You are a helpful assistant. Use Google Search when needed.",
    tools=[google_search]
)
```

### **YAML Configuration**

```
name: search_assistant
model: gemini-2.5-flash
description: An assistant that can search the web.
instruction: |
  You are a helpful assistant.
  Use Google Search for current events and factual information.
tools:
  - name: google_search
```
<!-- DAILY_CHECKIN_2025-12-30_END -->

# 2025-12-29
<!-- DAILY_CHECKIN_2025-12-29_START -->













ADK æ™ºèƒ½ä½“é…ç½®åŠŸèƒ½è®©ä½ æ— éœ€ç¼–å†™ä»£ç å³å¯æ„å»º ADK å·¥ä½œæµã€‚æ™ºèƒ½ä½“é…ç½®ä½¿ç”¨ YAML æ ¼å¼çš„æ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«æ™ºèƒ½ä½“çš„ç®€è¦æè¿°ï¼Œå…è®¸å‡ ä¹ä»»ä½•äººç»„è£…å’Œè¿è¡Œ ADK æ™ºèƒ½ä½“ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºæœ¬æ™ºèƒ½ä½“é…ç½®å®šä¹‰çš„ç®€å•ç¤ºä¾‹ï¼š

```
name: assistant_agent
model: gemini-2.5-flash
description: A helper agent that can answer users' questions.
instruction: You are an agent to help answer users' various questions.
```
<!-- DAILY_CHECKIN_2025-12-29_END -->

# 2025-12-28
<!-- DAILY_CHECKIN_2025-12-28_START -->














ADK æ™ºèƒ½ä½“é…ç½®åŠŸèƒ½è®©ä½ æ— éœ€ç¼–å†™ä»£ç å³å¯æ„å»º ADK å·¥ä½œæµã€‚æ™ºèƒ½ä½“é…ç½®ä½¿ç”¨ YAML æ ¼å¼çš„æ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«æ™ºèƒ½ä½“çš„ç®€è¦æè¿°ï¼Œå…è®¸å‡ ä¹ä»»ä½•äººç»„è£…å’Œè¿è¡Œ ADK æ™ºèƒ½ä½“ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºæœ¬æ™ºèƒ½ä½“é…ç½®å®šä¹‰çš„ç®€å•ç¤ºä¾‹ï¼š

```
name: assistant_agent
model: gemini-2.5-flash
description: A helper agent that can answer users' questions.
instruction: You are an agent to help answer users' various questions.
```
<!-- DAILY_CHECKIN_2025-12-28_END -->
<!-- Content_END -->
